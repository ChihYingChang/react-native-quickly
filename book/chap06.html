<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Importing Modules into the Xcode Project</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body dir="ltr" class="kramdown">
<div id="leanpub-toc">
<h2></h2>
<ol class="toc">
<ul class='toc no-parts'>
  <li>
    <a href='chap01.html#leanpub-auto-why-react-native-is-awesome'>Why React Native is Awesome</a>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-setting-up-react-native-development'>Setting up React Native Development</a>
  </li>
  <li>
    <a href='chap03.html#leanpub-auto-hello-world-and-the-react-native-cli'>Hello World and the React Native CLI</a>
  </li>
  <li>
    <a href='chap04.html#leanpub-auto-styles-and-flexbox'>Styles and Flexbox</a>
  </li>
  <li>
    <a href='chap05.html#leanpub-auto-main-react-native-ui-components'>Main React Native UI Components</a>
    <ul>
      <li>
        <a href='chap05.html#leanpub-auto-view'>View</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-text'>Text</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-textinput'>TextInput</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-scrollview'>ScrollView</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-listview'>ListView</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-touchablehighlight'>TouchableHighlight</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-switch'>Switch</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-navigator'>Navigator</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap06.html#leanpub-auto-importing-modules-into-the-xcode-project'>Importing Modules into the Xcode Project</a>
  </li>
  <li>
    <a href='chap07.html#leanpub-auto-project-timer'>Project: Timer</a>
  </li>
  <li>
    <a href='chap08.html#leanpub-auto-project-weather-app'>Project: Weather App</a>
  </li>
  <li>
    <a href='chap09.html#leanpub-auto-quiz'>Quiz</a>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-actions'>Actions</a>
  </li>
  <li>
    <a href='chap11.html#leanpub-auto-summary'>Summary</a>
  </li>
  <li>
    <a href='chap12.html#leanpub-auto-quiz-answers'>Quiz Answers</a>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main" class="kramdown">
<h2 id="leanpub-auto-importing-modules-into-the-xcode-project">Importing Modules into the Xcode Project</h2>

<p>What if you want to use a community React Native component, i.e., something that is not part of <code>react-native</code>, but is provided as a standalone npm module? You can import a module into your project!</p>

<p>In Timer, we need to play the sound when time is up. There’s no official component for sounds as of this writing (Jan 2016), but there are several userland modules. One of them is <a href="https://github.com/andreaskeller/react-native-audioplayer"><code>react-native-audioplayer</code></a>. First, install it with npm in the project folder:</p>

<figure class="code">
<div class="highlight"><pre><code></code><code class="lineno">1 </code><code class="err">$</code> <code class="n">npm</code> <code class="n">install</code> <code class="n">react</code><code class="o">-</code><code class="n">native</code><code class="o">-</code><code class="n">audioplayer</code><code class="mf">@0.2.0</code> <code class="o">--</code><code class="n">save</code>
</pre></div>

</figure>

<p>We’re focusing on iOS at the moment, so the installation is as follows:</p>

<ol class="numeric">
  <li>Open your project in Xcode.</li>
  <li>In Xcode, find the Project Navigator in the left sidebar.</li>
  <li>In the Project Navigator, right-click Libraries.</li>
  <li>In the context menu, click Add Files to “timer”. (Substitute another project name for “timer” if needed.)</li>
  <li>Navigate to <code>node_modules/react-native-audioplayer</code>. Add the file <code>RNAudioPlayer.xcodeproj</code>. The result is shown in Figure 5.</li>
</ol>


<figure class="image center">
  <img src="images/ch9-project-manager.png" alt="Figure 5: Adding `RNAudioPlayer` to XCode project to play audio" />
  <figcaption>Figure 5: Adding <code>RNAudioPlayer</code> to XCode project to play audio</figcaption>
</figure>


<ol class="numeric">
  <li>In the Project Navigator, select your project (timer).</li>
  <li>Click the build target for timer in the Targets list (figure 9-X).</li>
</ol>


<figure class="image center">
  <img src="images/ch9-target.png" alt="Figure 6: Selecting a build target from Targets" />
  <figcaption>Figure 6: Selecting a build target from Targets</figcaption>
</figure>


<ol class="numeric">
  <li>Click on the Build Phases tab to open it.</li>
  <li>Expand Link Binary With Libraries by clicking on it.</li>
  <li>Click on the plus button (+) and add libRNAudioPlayer.a under Workspace, or just drag and drop libRNAudioPlayer.a from the Project Navigator. It’s under <code>Libraries/RNAudioPlayer.xcodeproj/Products</code>.</li>
  <li>Run your project (press Command+R or click the black rectangle signifying “play”).</li>
</ol>

<p>If you did everything correctly, in the index.ios.js file, you can import the module with <code>require()</code>:</p>

<figure class="code">
<div class="highlight"><pre><code></code><code class="lineno">1 </code><code class="nx">AudioPlayer</code> <code class="o">=</code> <code class="nx">require</code><code class="p">(</code><code class="s1">'react-native-audioplayer'</code><code class="p">)</code>
</pre></div>

</figure>

<p>And play the sound with <code>play()</code>:</p>

<figure class="code">
<div class="highlight"><pre><code></code><code class="lineno">1 </code><code class="nx">AudioPlayer</code><code class="p">.</code><code class="nx">play</code><code class="p">(</code><code class="s1">'flute_c_long_01.wav'</code><code class="p">)</code>
</pre></div>

</figure>

<p>The sound file needs to be included in the bundle. To do so, select Copy Bundle Resources and add <code>flute_c_long_01.wav</code>, or your own sound file as shown in Figure 7.</p>


<figure class="image center">
  <img src="images/ch9-file.png" alt="Figure 7: Adding a wav file to the bundle" />
  <figcaption>Figure 7: Adding a wav file to the bundle</figcaption>
</figure>


<p>That’s all the prep. Now we can implement Timer!</p>


</div>
</body>
</html>
